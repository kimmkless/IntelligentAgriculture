# mosquitto.conf - MQTT代理配置文件
# 放置位置: 项目根目录/config/mosquitto.conf

# 监听设置
listener 1883 0.0.0.0
protocol mqtt

# 允许匿名连接（开发环境方便使用）
allow_anonymous true

# 持久化设置
persistence true
persistence_location ./data/mosquitto/

# 日志设置
log_dest file ./logs/mosquitto.log
log_dest stdout
log_type all
connection_messages true

# 安全性设置（生产环境应该启用）
# password_file ./config/passwd
# acl_file ./config/acl

# 最大连接数
max_connections -1

# 保持连接设置
keepalive_interval 60

# 清理会话
clean_session true

# QoS设置
max_inflight_messages 100
max_queued_messages 1000

# 消息保留
retain_available true

# WebSocket支持（如果需要）
# listener 9001 0.0.0.0
# protocol websockets